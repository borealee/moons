(this["webpackJsonpmoon-calc"]=this["webpackJsonpmoon-calc"]||[]).push([[0],{125:function(t,e,n){t.exports=n(160)},130:function(t,e,n){},131:function(t,e,n){t.exports=n.p+"static/media/logo.5d5d9eef.svg"},132:function(t,e,n){},160:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(13),s=n.n(i),c=(n(130),n(36)),r=n(37),m=n(40),p=n(39),l=(n(131),n(132),n(65)),u=n(107),d=n(192),f=n(194),h=n(195),v=n(201),b=n(199),g=n(102),T=n.n(g),O=n(198),j=n(207),E=n(202),k=n(14),S=n(206),P=n(106),y=n(190),L=n(191),D=function(t){Object(m.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).date=new Date,console.log("props 111: ",a.props),a}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(t,e,n){console.log("curr props: ",this.props)}},{key:"render",value:function(){var t=this;console.log("popsat: ",this.props.popsAt);var e=this.props.popsAt;"string"==typeof this.props.popsAt&&(e=Object(y.a)(e));var n="".concat(Object(L.a)(e,this.props.timeToPop).toString()," (\xb1 ").concat(this.props.timeToPop," hrs)");return o.a.createElement("div",{style:{display:"block",padding:"24px",width:"100%"}},o.a.createElement(d.a,{variant:"h6"},"Moon pops: ",this.props.timestampsFuckedUp?"Fucked up timestamps":n),o.a.createElement(d.a,null,"Bookmarks"),o.a.createElement(d.a,null,this.props.timestampsFuckedUp?"Bro timestamps are fucked":null),o.a.createElement(f.a,{dense:!0},this.props.timestamps.map((function(e){return o.a.createElement(h.a,{key:e.id,style:{marginTop:"8px"}},o.a.createElement("div",{style:{minWidth:"250px"}},o.a.createElement(k.a,{utils:P.a},o.a.createElement(S.a,{emptyLabel:"",label:"Date (use evetime dipshit)",value:e.time,ampm:!1,fullWidth:!0,disableFuture:!0,onChange:function(n){return t.props.updateTimstampDate(e.id,n)}}))),o.a.createElement(j.a,{label:"Distance to pop (km)",variant:"outlined",style:{marginLeft:"8px"},name:"distanceToPop",error:isNaN(e.distanceToPop)?"Are you fucking retarded?":null,helperText:isNaN(e.distanceToPop)?"Are you fucking retarded?":null,value:e.distanceToPop,onChange:function(n){return t.props.updateTimestamp(e.id,n)}}),o.a.createElement(v.a,null,o.a.createElement(b.a,{edge:"end","aria-label":"delete",onClick:function(){return t.props.removeTimestamp(e.id)}},o.a.createElement(T.a,null))))}))),o.a.createElement(E.a,null),o.a.createElement(O.a,{onClick:this.props.addTimestamp,style:{marginTop:"8px"}},"Add bookmark"))}}]),n}(a.Component),I=n(17),N=n(79),w=n(56),M=n(203),C=n(204),x=n(209),A=function(t){Object(m.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).recalculate=function(){},a.validateTimestamps=function(t){var e,n=!1;console.log("timestamps: ",t),e=Object(u.a)(t.map((function(t){return"string"==typeof t.time?Object(l.a)(Object(l.a)({},t),{},{time:Object(y.a)(t.time),distanceToPop:parseInt(t.distanceToPop,10)}):Object(l.a)(Object(l.a)({},t),{},{distanceToPop:parseInt(t.distanceToPop,10)})}))).sort((function(t,e){return t.distanceToPop<e.distanceToPop?-1:t.distanceToPop>e.distanceToPop?1:0}));for(var o=0;o<e.length-1;o++)console.log("sort: ",e[o+1],o+1),console.log("isAfter: ",Object(N.a)(e[o].time,e[o+1].time),e[o].time,e[o+1].time),console.log("isBefore: ",Object(w.a)(e[o].time,e[o+1].time),e[o].time,e[o+1].time),Object(N.a)(e[o].time,e[o+1].time)||(n=!0);a.setState((function(t){t.fuckedUp=n}),(function(){return a._persist(a.props.moonId,a.state)})),console.log("sorted: ",e)},a.addTimestamp=function(){a.setState(Object(I.a)((function(t){t.timestamps.push({id:Object(x.a)(),time:new Date,distanceToPop:0})})),(function(){var t=a.calculateTimeToPop(a.state.timestamps);console.log(t),a.setState(Object(I.a)((function(e){e.timeToPop=t}))),a._persist(a.props.moonId,a.state),a.validateTimestamps(a.state.timestamps)}))},a.updateTimstampDate=function(t,e){a.setState(Object(I.a)((function(n){n.timestamps.find((function(e){return e.id===t})).time=e})),(function(){var t=a.calculateTimeToPop(a.state.timestamps);a.setState(Object(I.a)((function(e){e.timeToPop=t}))),a._persist(a.props.moonId,a.state),a.validateTimestamps(a.state.timestamps)}))},a.updateTimestamp=function(t,e){e.persist(),a.setState(Object(I.a)((function(n){n.timestamps.find((function(e){return e.id===t}))[e.target.name]=e.target.value})),(function(){var t=a.calculateTimeToPop(a.state.timestamps);a.setState(Object(I.a)((function(e){e.timeToPop=t}))),a._persist(a.props.moonId,a.state),a.validateTimestamps(a.state.timestamps)}))},a.removeTimestamp=function(t){a.setState(Object(I.a)((function(e){e.timestamps=e.timestamps.filter((function(e){return e.id!==t}))})),(function(){var t=a.calculateTimeToPop(a.state.timestamps);a.setState(Object(I.a)((function(e){e.timeToPop=t}))),a._persist(a.props.moonId,a.state),a.validateTimestamps(a.state.timestamps)}))},a.calculateSpeed=function(t,e){var n=t.time,a=e.time;"string"==typeof n&&(n=Object(y.a)(t.time)),"string"==typeof a&&(a=Object(y.a)(e.time));var o=Object(M.a)(n,a),i=Math.abs(t.distanceToPop-e.distanceToPop)/Math.abs(o);return console.log(n,a),i},a.updateChunkSpeed=function(t){a.setState(Object(I.a)((function(e){e.chunkSpeed=t})))},a.updatePopDistance=function(t){a.setState(Object(I.a)((function(e){e.popDistance=t})))},a.calculateTimeToPop=function(t){var e=t.map((function(t){return Object(y.a)(t.time)})),n=Object(C.a)(e),o=[],i=0;if(console.log("length:",t.length),console.log("lll: ",e),t.length>=2){for(var s=0;s<t.length-1;s++)console.log("speed1: ",t[s],t[s+1]),o.push(a.calculateSpeed(t[s],t[s+1]));console.log("speeds: ",o);var c=o.reduce((function(t,e){return t+e}))/(t.length-1);console.log("avg speed: ",c,"max timestmp: ",n.toString());var r=t.find((function(t){return console.log("ts time: ",t.time,n.toString()),Object(y.a)(t.time)==n.toString()}));console.log("biggest: ",r),i=r.distanceToPop/c}return console.log("time to pop: ",i),isNaN(i)?0:i.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0]},a._persist=function(t,e){localStorage.setItem(t,JSON.stringify(e))},a.state={chunkToPopDistance:0,chunkSpeed:0,timeToPop:0,popsAt:new Date,popDistance:200,fuckedUp:!1,timestamps:[{id:0,time:new Date,distanceToPop:200}]},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=t.getItem(this.props.moonId);if(null!==t){var e=JSON.parse(t);this.setState(Object(I.a)((function(t){return e})),(function(){}))}}},{key:"render",value:function(){return o.a.createElement(D,{moonName:this.props.moonName,moonId:this.props.moonId,timestampsFuckedUp:this.state.fuckedUp,addTimestamp:this.addTimestamp,updateTimestamp:this.updateTimestamp,updateTimstampDate:this.updateTimstampDate,removeTimestamp:this.removeTimestamp,chunkSpeed:this.state.chunkSpeed,popsAt:this.state.popsAt,timeToPop:this.state.timeToPop,timestamps:this.state.timestamps})}}]),n}(a.Component),_=n(205),U=n(103),J=n.n(U),B=n(105),F=n.n(B),W=n(104),H=n.n(W),$=function(t){Object(m.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).openMoon=function(t){a.setState(Object(I.a)((function(e){e.moonList.find((function(e){return e.id===t})).open=!a.state.moonList.find((function(e){return e.id===t})).open})),(function(){return a._persist("moonList",a.state.moonList)}))},a.addMoon=function(){a.setState(Object(I.a)((function(t){t.moonList.push({id:Object(x.a)(),name:"New moon"})})),(function(){return a._persist("moonList",a.state.moonList)}))},a.updateMoon=function(t,e){e.persist(),a.setState(Object(I.a)((function(n){n.moonList.find((function(e){return e.id===t}))[e.target.name]=e.target.value})),(function(){return a._persist("moonList",a.state.moonList)}))},a.removeMoon=function(t){a.setState(Object(I.a)((function(e){e.moonList=a.state.moonList.filter((function(e){return e.id!==t}))})),(function(){return a._persist("moonList",a.state.moonList)}))},a._persist=function(t,e){localStorage.setItem(t,JSON.stringify(e))},a.open=!1,a.state={moonList:[]},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=JSON.parse(localStorage.getItem("moonList"));null!==t&&this.setState(Object(I.a)((function(e){e.moonList=t})))}},{key:"render",value:function(){var t=this;return o.a.createElement("div",null,o.a.createElement(d.a,{variant:"h6"},"Moons"),o.a.createElement(f.a,null,this.state.moonList.map((function(e){return[o.a.createElement(h.a,{style:{display:"block"}},o.a.createElement(j.a,{value:e.name,name:"name",onChange:function(n){return t.updateMoon(e.id,n)}}),o.a.createElement(O.a,{onClick:function(n){return t.removeMoon(e.id)}},"DELETE"),o.a.createElement(J.a,null,o.a.createElement(b.a,{edge:"end","aria-label":"delete",onClick:function(){return t.openMoon(e.id)}},e.open?o.a.createElement(H.a,null):o.a.createElement(F.a,null)))),o.a.createElement(_.a,{in:e.open,timeout:"auto",unmountOnExit:!0},o.a.createElement(f.a,{component:"div"},o.a.createElement(h.a,null,o.a.createElement(A,{moonName:e.name,moonId:e.id,moonData:e.data}))))]}))),o.a.createElement(O.a,{onClick:this.addMoon,fullWidth:!0,color:"primary"}," Add moon "))}}]),n}(a.Component),q=n(200),z=function(t){Object(m.a)(n,t);var e=Object(p.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",null,o.a.createElement(q.a,{container:!0},o.a.createElement(q.a,{item:!0,xs:6},o.a.createElement($,null)),o.a.createElement(q.a,{item:!0,xs:6},"Help"))))}}]),n}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[125,1,2]]]);
//# sourceMappingURL=main.40528938.chunk.js.map