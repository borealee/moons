(this["webpackJsonpmoon-calc"]=this["webpackJsonpmoon-calc"]||[]).push([[0],{131:function(t,e,n){t.exports=n(184)},136:function(t,e,n){},137:function(t,e,n){t.exports=n.p+"static/media/logo.5d5d9eef.svg"},138:function(t,e,n){},184:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(13),s=n.n(i),c=(n(136),n(37)),r=n(38),m=n(41),p=n(40),l=(n(137),n(138),n(44)),u=n(112),d=n(215),f=n(218),g=n(220),h=n(225),b=n(223),v=n(107),T=n.n(v),O=n(222),j=n(231),E=n(226),k=n(15),S=n(230),P=n(111),y=n(214),L=n(106),D=n(219),M=function(t){Object(m.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).date=new Date,console.log("props 111: ",a.props),a}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(t,e,n){console.log("curr props: ",this.props)}},{key:"render",value:function(){var t=this;console.log("popsat: ",this.props);var e=this.props.popsAt;"string"==typeof this.props.popsAt&&(e=Object(y.a)(e));var n="".concat(Object(L.a)(e,this.props.timeToPop).toString()," (\xb1 ").concat(this.props.timeToPop," hrs)");return o.a.createElement("div",{style:{display:"block",padding:"24px",width:"100%"}},o.a.createElement(d.a,{variant:"h6"},"Moon pops: ",this.props.timestampsFuckedUp?"Fucked up timestamps":n),o.a.createElement(j.a,{value:this.props.notes,fullWidth:!0,style:{marginTop:"16px",marginBottom:"16px"},name:"notes",onChange:this.props.updateMoonData,label:"Notes",rows:4,variant:"outlined",multiline:!0}),o.a.createElement(d.a,null,"Bookmarks"),o.a.createElement(d.a,{style:{marginTop:"8px",marginBottom:"8px"}},this.props.timestampsFuckedUp?"Bro timestamps are fucked":null),o.a.createElement(f.a,{dense:!0},this.props.timestamps.map((function(e){return console.log("timestamp: >>>>>>>>>",e,"sub hrs: ",Object(D.a)(Object(y.a)(e.time),3)),o.a.createElement(g.a,{key:e.id,style:{marginTop:"8px"}},o.a.createElement("div",{style:{minWidth:"250px"}},o.a.createElement(k.a,{utils:P.a},o.a.createElement(S.a,{emptyLabel:"",label:"Date (use evetime dipshit)",value:e.time,ampm:!1,fullWidth:!0,disableFuture:!0,onChange:function(n){return t.props.updateTimstampDate(e.id,n)}}))),o.a.createElement(j.a,{label:"Distance to pop (km)",variant:"outlined",style:{marginLeft:"8px"},name:"distanceToPop",error:isNaN(e.distanceToPop)?"Are you fucking retarded?":null,helperText:isNaN(e.distanceToPop)?"Are you fucking retarded?":null,value:e.distanceToPop,onChange:function(n){return t.props.updateTimestamp(e.id,n)}}),o.a.createElement(h.a,null,o.a.createElement(b.a,{edge:"end","aria-label":"delete",onClick:function(){return t.props.removeTimestamp(e.id)}},o.a.createElement(T.a,null))))}))),o.a.createElement(E.a,null),o.a.createElement(O.a,{onClick:this.props.addTimestamp,style:{marginTop:"8px"}},"Add bookmark"))}}]),n}(a.Component),x=n(14),C=n(80),I=n(58),N=n(227),w=n(228),_=n(233),A=(n(142),function(t){Object(m.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).recalculate=function(){},a.validateTimestamps=function(t){var e,n=!1;e=Object(u.a)(t.map((function(t){return"string"==typeof t.time?Object(l.a)(Object(l.a)({},t),{},{time:Object(y.a)(t.time),distanceToPop:parseInt(t.distanceToPop,10)}):Object(l.a)(Object(l.a)({},t),{},{distanceToPop:parseInt(t.distanceToPop,10)})}))).sort((function(t,e){return t.distanceToPop<e.distanceToPop?-1:t.distanceToPop>e.distanceToPop?1:0}));for(var o=0;o<e.length-1;o++)console.log("sort: ",e[o+1],o+1),console.log("isAfter: ",Object(C.a)(e[o].time,e[o+1].time),e[o].time,e[o+1].time),console.log("isBefore: ",Object(I.a)(e[o].time,e[o+1].time),e[o].time,e[o+1].time),Object(C.a)(e[o].time,e[o+1].time)||(n=!0);a.setState((function(t){t.fuckedUp=n}),(function(){return a._persist(a.props.moonId,a.state)})),console.log("sorted: ",e)},a.addTimestamp=function(){var t=new Date;console.log("date1: ",t.toUTCString());var e=t.getTime();console.log("date: >>>>>>>>>>>>>>>>>",e),a.setState(Object(x.a)((function(e){e.timestamps.push({id:Object(_.a)(),time:t.toUTCString(),distanceToPop:0})})),(function(){var t=a.calculateTimeToPop(a.state.timestamps);console.log(t),a.setState(Object(x.a)((function(e){e.timeToPop=t}))),a._persist(a.props.moonId,a.state),a.validateTimestamps(a.state.timestamps)}))},a.updateTimstampDate=function(t,e){a.setState(Object(x.a)((function(n){n.timestamps.find((function(e){return e.id===t})).time=e})),(function(){var t=a.calculateTimeToPop(a.state.timestamps);a.setState(Object(x.a)((function(e){e.timeToPop=t}))),a._persist(a.props.moonId,a.state),a.validateTimestamps(a.state.timestamps)}))},a.updateMoonData=function(t){t.persist(),console.log("tar: ",t.target.name,"val",t.target.value),a.setState(Object(x.a)((function(e){return e[t.target.name]=t.target.value}),(function(){a._persist(a.props.moonId,a.state)})))},a.updateTimestamp=function(t,e){e.persist(),a.setState(Object(x.a)((function(n){n.timestamps.find((function(e){return e.id===t}))[e.target.name]=e.target.value})),(function(){var t=a.calculateTimeToPop(a.state.timestamps);a.setState(Object(x.a)((function(e){e.timeToPop=t}))),a._persist(a.props.moonId,a.state),a.validateTimestamps(a.state.timestamps)}))},a.removeTimestamp=function(t){a.setState(Object(x.a)((function(e){e.timestamps=e.timestamps.filter((function(e){return e.id!==t}))})),(function(){var t=a.calculateTimeToPop(a.state.timestamps);a.setState(Object(x.a)((function(e){e.timeToPop=t}))),a._persist(a.props.moonId,a.state),a.validateTimestamps(a.state.timestamps)}))},a.calculateSpeed=function(t,e){var n=t.time,a=e.time;"string"==typeof n&&(n=Object(y.a)(t.time)),"string"==typeof a&&(a=Object(y.a)(e.time));var o=Object(N.a)(n,a),i=Math.abs(t.distanceToPop-e.distanceToPop)/Math.abs(o);return console.log(n,a),i},a.updateChunkSpeed=function(t){a.setState(Object(x.a)((function(e){e.chunkSpeed=t})))},a.updatePopDistance=function(t){a.setState(Object(x.a)((function(e){e.popDistance=t})))},a.calculateTimeToPop=function(t){var e=t.map((function(t){return Object(y.a)(t.time)})),n=Object(w.a)(e),o=[],i=0;if(console.log("length:",t.length),console.log("lll: ",e),t.length>=2){for(var s=0;s<t.length-1;s++)console.log("speed1: ",t[s],t[s+1]),o.push(a.calculateSpeed(t[s],t[s+1]));console.log("speeds: ",o);var c=o.reduce((function(t,e){return t+e}))/(t.length-1);console.log("avg speed: ",c,"max timestmp: ",n.toString());var r=t.find((function(t){return console.log("ts time: ",t.time,n.toString()),Object(y.a)(t.time)==n.toString()}));console.log("biggest: ",r),i=r.distanceToPop/c}return console.log("time to pop: ",i),isNaN(i)?0:i.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0]},a._persist=function(t,e){localStorage.setItem(t,JSON.stringify(e))},a.state={chunkToPopDistance:0,chunkSpeed:0,timeToPop:0,popsAt:new Date,popDistance:200,fuckedUp:!1,notes:"",timestamps:[{id:0,time:new Date,distanceToPop:200}]},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=localStorage.getItem(this.props.moonId);if(null!==t){var e=JSON.parse(t);this.setState(Object(x.a)((function(t){return e})),(function(){}))}}},{key:"render",value:function(){return o.a.createElement(M,{moonName:this.props.moonName,moonId:this.props.moonId,notes:this.state.notes,updateMoonData:this.updateMoonData,timestampsFuckedUp:this.state.fuckedUp,addTimestamp:this.addTimestamp,updateTimestamp:this.updateTimestamp,updateTimstampDate:this.updateTimstampDate,removeTimestamp:this.removeTimestamp,chunkSpeed:this.state.chunkSpeed,popsAt:this.state.popsAt,timeToPop:this.state.timeToPop,timestamps:this.state.timestamps})}}]),n}(a.Component)),U=n(229),B=n(108),J=n.n(B),W=n(110),F=n.n(W),z=n(109),H=n.n(z),$=function(t){Object(m.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).openMoon=function(t){a.setState(Object(x.a)((function(e){e.moonList.find((function(e){return e.id===t})).open=!a.state.moonList.find((function(e){return e.id===t})).open})),(function(){return a._persist("moonList",a.state.moonList)}))},a.addMoon=function(){a.setState(Object(x.a)((function(t){t.moonList.push({id:Object(_.a)(),name:"New moon"})})),(function(){return a._persist("moonList",a.state.moonList)}))},a.updateMoon=function(t,e){e.persist(),a.setState(Object(x.a)((function(n){n.moonList.find((function(e){return e.id===t}))[e.target.name]=e.target.value})),(function(){return a._persist("moonList",a.state.moonList)}))},a.removeMoon=function(t){a.setState(Object(x.a)((function(e){e.moonList=a.state.moonList.filter((function(e){return e.id!==t}))})),(function(){return a._persist("moonList",a.state.moonList)}))},a._persist=function(t,e){localStorage.setItem(t,JSON.stringify(e))},a.minimizeAll=function(){console.log("setting"),a.setState(Object(x.a)((function(t){t.moonList=a.state.moonList.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{open:!1})}))}),(function(){return a._persist("moonList",a.state.moonList)})))},a.open=!1,a.state={moonList:[]},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=JSON.parse(localStorage.getItem("moonList"));null!==t&&this.setState(Object(x.a)((function(e){e.moonList=t})))}},{key:"render",value:function(){var t=this;return o.a.createElement("div",null,o.a.createElement(d.a,{variant:"h6"},"Moons"),o.a.createElement(f.a,null,this.state.moonList.map((function(e){return[o.a.createElement(g.a,{style:{display:"block",margin:"8px 0 0 0"}},o.a.createElement(j.a,{value:e.name,name:"name",onChange:function(n){return t.updateMoon(e.id,n)}}),o.a.createElement(O.a,{onClick:function(n){return t.removeMoon(e.id)}},"DELETE"),o.a.createElement(J.a,null,o.a.createElement(b.a,{edge:"end",style:{backgroundColor:"#c2c2c2"},onClick:function(){return t.openMoon(e.id)}},e.open?o.a.createElement(H.a,null):o.a.createElement(F.a,null)))),o.a.createElement(U.a,{in:e.open,timeout:"auto",unmountOnExit:!0},o.a.createElement(f.a,{component:"div"},o.a.createElement(g.a,null,o.a.createElement(A,{moonName:e.name,moonId:e.id,moonData:e.data})))),o.a.createElement(E.a,null)]}))),o.a.createElement(E.a,null),o.a.createElement(O.a,{onClick:this.addMoon,fullWidth:!0,color:"primary"}," Add moon "))}}]),n}(a.Component),q=n(224),G=function(t){Object(m.a)(n,t);var e=Object(p.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",null,o.a.createElement(q.a,{container:!0},o.a.createElement(q.a,{item:!0,xs:6},o.a.createElement($,null)),o.a.createElement(q.a,{item:!0,xs:6},"Help"))))}}]),n}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[131,1,2]]]);
//# sourceMappingURL=main.b17abf17.chunk.js.map