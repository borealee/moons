(this["webpackJsonpmoon-calc"]=this["webpackJsonpmoon-calc"]||[]).push([[0],{126:function(t,e,n){t.exports=n(161)},131:function(t,e,n){},132:function(t,e,n){t.exports=n.p+"static/media/logo.5d5d9eef.svg"},133:function(t,e,n){},161:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(13),s=n.n(i),c=(n(131),n(36)),r=n(37),m=n(40),p=n(39),u=(n(132),n(133),n(43)),l=n(108),d=n(195),f=n(198),h=n(199),g=n(204),b=n(202),v=n(103),O=n.n(v),T=n(201),j=n(208),E=n(205),S=n(15),k=n(207),y=n(107),P=n(193),D=n(194),L=n(191),I=n(192),w=function(t){var e=t.map((function(t){return"string"==typeof t.time?Object(L.a)(t.time):Object(L.a)(t.time.toISOString())}));return console.log("times ",e),Object(I.a)(e)},x=function(t){Object(m.a)(n,t);var e=Object(p.a)(n);function n(t){return Object(c.a)(this,n),e.call(this,t)}return Object(r.a)(n,[{key:"componentDidUpdate",value:function(t,e,n){}},{key:"render",value:function(){var t=this,e=new Date,n=Object(P.a)(w(this.props.timestamps),this.props.timeToPop),a=Object(D.a)(n,Object(L.a)(e.toISOString())),i="".concat(n.toString()," (in \xb1").concat(a," hrs)");return o.a.createElement("div",{style:{display:"block",padding:"24px",width:"100%"}},o.a.createElement(d.a,{variant:"h6"},"Moon pops: ",this.props.timestampsFuckedUp?"Fucked up timestamps":i),o.a.createElement(j.a,{value:this.props.notes,fullWidth:!0,style:{marginTop:"16px",marginBottom:"16px"},name:"notes",onChange:this.props.updateMoonData,label:"Notes",rows:4,variant:"outlined",multiline:!0}),o.a.createElement(d.a,null,"Bookmarks"),o.a.createElement(d.a,{style:{marginTop:"8px",marginBottom:"8px"}},this.props.timestampsFuckedUp?"Bro timestamps are fucked":null),o.a.createElement(f.a,{dense:!0},this.props.timestamps.map((function(e){return o.a.createElement(h.a,{key:e.id,style:{marginTop:"8px"}},o.a.createElement("div",{style:{minWidth:"250px"}},o.a.createElement(S.a,{utils:y.a},o.a.createElement(k.a,{emptyLabel:"",label:"Date (use evetime dipshit)",value:e.time,ampm:!1,fullWidth:!0,disableFuture:!0,onChange:function(n){return t.props.updateTimstampDate(e.id,n)}}))),o.a.createElement(j.a,{label:"Distance to pop (km)",variant:"outlined",style:{marginLeft:"8px"},name:"distanceToPop",error:isNaN(e.distanceToPop)?"Are you fucking retarded?":null,helperText:isNaN(e.distanceToPop)?"Are you fucking retarded?":null,value:e.distanceToPop,onChange:function(n){return t.props.updateTimestamp(e.id,n)}}),o.a.createElement(g.a,null,o.a.createElement(b.a,{edge:"end","aria-label":"delete",onClick:function(){return t.props.removeTimestamp(e.id)}},o.a.createElement(O.a,null))))}))),o.a.createElement(E.a,null),o.a.createElement(T.a,{onClick:this.props.addTimestamp,style:{marginTop:"8px"}},"Add bookmark"))}}]),n}(a.Component),M=n(14),N=n(78),C=n(102),A=n(210),_=function(t){Object(m.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).recalculate=function(){},a.validateTimestamps=function(t){var e,n=!1;e=Object(l.a)(t.map((function(t){return"string"==typeof t.time?Object(u.a)(Object(u.a)({},t),{},{time:Object(L.a)(t.time),distanceToPop:parseInt(t.distanceToPop,10)}):Object(u.a)(Object(u.a)({},t),{},{distanceToPop:parseInt(t.distanceToPop,10)})}))).sort((function(t,e){return t.distanceToPop<e.distanceToPop?-1:t.distanceToPop>e.distanceToPop?1:0}));for(var o=0;o<e.length-1;o++)Object(N.a)(e[o].time,e[o+1].time)||(n=!0);a.setState((function(t){t.fuckedUp=n}),(function(){return a._persist(a.props.moonId,a.state)})),console.log("sorted: ",e)},a.addTimestamp=function(){var t=new Date;console.log("date1: ",t.toISOString()),a.setState(Object(M.a)((function(e){e.timestamps.push({id:Object(A.a)(),time:t.toISOString(),distanceToPop:0})})),(function(){var t=a.calculateTimeToPop(a.state.timestamps);console.log("timeToPop",t);a.state.timestamps.length;a.setState(Object(M.a)((function(e){e.timeToPop=t,e.popsAt=new Date}))),a._persist(a.props.moonId,a.state),a.validateTimestamps(a.state.timestamps)}))},a.updateTimstampDate=function(t,e){console.log("newDate: ",e),a.setState(Object(M.a)((function(n){n.timestamps.find((function(e){return e.id===t})).time=e.toISOString()})),(function(){var t=a.calculateTimeToPop(a.state.timestamps);a.setState(Object(M.a)((function(e){e.timeToPop=t,e.popsAt=new Date}))),a._persist(a.props.moonId,a.state),a.validateTimestamps(a.state.timestamps)}))},a.updateMoonData=function(t){t.persist(),console.log("tar: ",t.target.name,"val",t.target.value),a.setState(Object(M.a)((function(e){return e[t.target.name]=t.target.value}),(function(){a._persist(a.props.moonId,a.state)})))},a.updateTimestamp=function(t,e){e.persist(),a.setState(Object(M.a)((function(n){n.timestamps.find((function(e){return e.id===t}))[e.target.name]=e.target.value})),(function(){var t=a.calculateTimeToPop(a.state.timestamps);a.setState(Object(M.a)((function(e){e.timeToPop=t,e.popsAt=new Date}))),a._persist(a.props.moonId,a.state),a.validateTimestamps(a.state.timestamps)}))},a.removeTimestamp=function(t){a.setState(Object(M.a)((function(e){e.timestamps=e.timestamps.filter((function(e){return e.id!==t}))})),(function(){var t=a.calculateTimeToPop(a.state.timestamps);a.setState(Object(M.a)((function(e){e.timeToPop=t,e.popsAt=new Date}))),a._persist(a.props.moonId,a.state),a.validateTimestamps(a.state.timestamps)}))},a.calculateSpeed=function(t,e){var n=t.time,a=e.time;"string"==typeof n&&(n=Object(L.a)(t.time)),"string"==typeof a&&(a=Object(L.a)(e.time));var o=Object(D.a)(n,a),i=Math.abs(t.distanceToPop-e.distanceToPop)/Math.abs(o);return console.log(n,a),i},a.updateChunkSpeed=function(t){a.setState(Object(M.a)((function(e){e.chunkSpeed=t})))},a.updatePopDistance=function(t){a.setState(Object(M.a)((function(e){e.popDistance=t})))},a.calculateTimeToPop=function(t){console.log("timestamps: ",t);var e=w(t),n=t.findIndex((function(t){return"string"==typeof t.time?(console.log("tstime: ",Object(L.a)(t.time)," max: ",e),Object(C.a)(Object(L.a)(t.time),e)):Object(C.a)(Object(L.a)(t.time),e)}));console.log("maxIndex: ",n);var o=[],i=0;if(console.log("length:",t.length),t.length>=2){for(var s=0;s<t.length-1;s++)o.push(a.calculateSpeed(t[s],t[s+1]));console.log("speeds: ",o);var c=o.reduce((function(t,e){return t+e}))/(t.length-1);i=t[n].distanceToPop/c}return console.log("time to pop: ",i),isNaN(i)?0:i.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0]},a._persist=function(t,e){localStorage.setItem(t,JSON.stringify(e))},a.state={chunkToPopDistance:0,chunkSpeed:0,timeToPop:0,popsAt:new Date,popDistance:200,fuckedUp:!1,notes:"",timestamps:[{id:0,time:new Date,distanceToPop:200}]},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=localStorage.getItem(this.props.moonId);if(null!==t){var e=JSON.parse(t);this.setState(Object(M.a)((function(t){return e})),(function(){}))}}},{key:"render",value:function(){return o.a.createElement(x,{moonName:this.props.moonName,moonId:this.props.moonId,notes:this.state.notes,updateMoonData:this.updateMoonData,timestampsFuckedUp:this.state.fuckedUp,addTimestamp:this.addTimestamp,updateTimestamp:this.updateTimestamp,updateTimstampDate:this.updateTimstampDate,removeTimestamp:this.removeTimestamp,chunkSpeed:this.state.chunkSpeed,popsAt:this.state.popsAt,timeToPop:this.state.timeToPop,timestamps:this.state.timestamps})}}]),n}(a.Component),U=n(206),B=n(104),F=n.n(B),J=n(106),W=n.n(J),z=n(105),H=n.n(z),$=function(t){Object(m.a)(n,t);var e=Object(p.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).openMoon=function(t){a.setState(Object(M.a)((function(e){e.moonList.find((function(e){return e.id===t})).open=!a.state.moonList.find((function(e){return e.id===t})).open})),(function(){return a._persist("moonList",a.state.moonList)}))},a.addMoon=function(){a.setState(Object(M.a)((function(t){t.moonList.push({id:Object(A.a)(),name:"New moon"})})),(function(){return a._persist("moonList",a.state.moonList)}))},a.updateMoon=function(t,e){e.persist(),a.setState(Object(M.a)((function(n){n.moonList.find((function(e){return e.id===t}))[e.target.name]=e.target.value})),(function(){return a._persist("moonList",a.state.moonList)}))},a.removeMoon=function(t){a.setState(Object(M.a)((function(e){e.moonList=a.state.moonList.filter((function(e){return e.id!==t}))})),(function(){return a._persist("moonList",a.state.moonList)}))},a._persist=function(t,e){localStorage.setItem(t,JSON.stringify(e))},a.minimizeAll=function(){console.log("setting"),a.setState(Object(M.a)((function(t){t.moonList=a.state.moonList.map((function(t){return Object(u.a)(Object(u.a)({},t),{},{open:!1})}))}),(function(){return a._persist("moonList",a.state.moonList)})))},a.open=!1,a.state={moonList:[]},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=JSON.parse(localStorage.getItem("moonList"));null!==t&&this.setState(Object(M.a)((function(e){e.moonList=t})))}},{key:"render",value:function(){var t=this;return o.a.createElement("div",null,o.a.createElement(d.a,{variant:"h6"},"Moons"),o.a.createElement(f.a,null,this.state.moonList.map((function(e){return o.a.createElement(o.a.Fragment,{key:e.id},o.a.createElement(h.a,{style:{display:"block",margin:"8px 0 0 0"}},o.a.createElement(j.a,{value:e.name,name:"name",onChange:function(n){return t.updateMoon(e.id,n)}}),o.a.createElement(T.a,{onClick:function(n){return t.removeMoon(e.id)}},"DELETE"),o.a.createElement(F.a,null,o.a.createElement(b.a,{edge:"end",style:{backgroundColor:"#c2c2c2"},onClick:function(){return t.openMoon(e.id)}},e.open?o.a.createElement(H.a,null):o.a.createElement(W.a,null)))),o.a.createElement(U.a,{in:e.open,timeout:"auto",unmountOnExit:!0},o.a.createElement(f.a,{component:"div"},o.a.createElement(h.a,null,o.a.createElement(_,{moonName:e.name,moonId:e.id,moonData:e.data})))),o.a.createElement(E.a,null))}))),o.a.createElement(E.a,null),o.a.createElement(T.a,{onClick:this.addMoon,fullWidth:!0,color:"primary"}," Add moon "))}}]),n}(a.Component),q=n(203),G=function(t){Object(m.a)(n,t);var e=Object(p.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",null,o.a.createElement(q.a,{container:!0},o.a.createElement(q.a,{item:!0,xs:6},o.a.createElement($,null)),o.a.createElement(q.a,{item:!0,xs:6},"Help"))))}}]),n}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[126,1,2]]]);
//# sourceMappingURL=main.1a8c0499.chunk.js.map