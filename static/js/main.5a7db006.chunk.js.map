{"version":3,"sources":["logo.svg","utils.js","moonPresent.jsx","moonLogic.jsx","moonList.jsx","help.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","maxTimestamp","timestamps","times","map","ts","time","parseISO","toISOString","max","persist","key","value","localStorage","setItem","JSON","stringify","MoonPresent","props","prevProps","prevState","snapshot","date","Date","popTime","diff","validEstimation","this","length","addHours","timeToPop","differenceInHours","format","addMinutes","getTimezoneOffset","style","display","padding","width","Typography","variant","timestampsFuckedUp","TextField","notes","fullWidth","marginTop","marginBottom","name","onChange","updateMoonData","label","rows","multiline","Button","onClick","clearAllBookmarks","float","List","dense","timestamp","ListItem","id","minWidth","utils","DateFnsUtils","DateTimePicker","emptyLabel","ampm","disableFuture","ev","updateTimstampDate","marginLeft","error","isNaN","distanceToPop","helperText","updateTimestamp","ListItemSecondaryAction","IconButton","edge","aria-label","removeTimestamp","Divider","addTimestamp","disableElevation","color","Component","MoonLogic","recalculate","validateTimestamps","fuckedUp","sortedTimestamps","parseInt","sort","a","b","i","isAfter","setState","draft","moonId","state","console","log","zonedDate","utcDate","produce","push","uuidv4","calculateTimeToPop","popsAt","_updateParentEstimate","newDate","find","updateMoonParent","target","filter","calculateSpeed","timestamp1","timestamp2","formattedDate1","formattedDate2","hourDifference","speed","Math","abs","maxTstp","maxIndex","findIndex","isEqual","speeds","avgSpeed","reduce","curr","acc","toString","match","chunkToPopDistance","chunkSpeed","popDistance","localStore","getItem","localStorageState","parse","moonName","MoonList","openMoon","moonList","moon","open","moon2","addMoon","updateMoon","removeMoon","minimizeAll","moons","paddingRight","Fragment","margin","Collapse","in","timeout","unmountOnExit","component","moonData","data","Help","textAlign","paddingLeft","App","className","Grid","container","item","xs","React","Boolean","window","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.5a7db006.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","import {max, parseISO, min} from \"date-fns\";\r\n\r\nexport const maxTimestamp = (timestamps) => {\r\n\tconst times = timestamps.map(ts => {\r\n\t\tif (typeof ts.time == \"string\") {\r\n\t\t\treturn parseISO(ts.time)\r\n\t\t}\r\n\t\telse return parseISO(ts.time.toISOString())\r\n\t});\r\n\t\r\n\treturn max(times);\r\n};\r\n\r\nexport const minTimestamp = (timestamps) => {\r\n\tconst times = timestamps.map(ts => {\r\n\t\tif (typeof ts.time == \"string\") {\r\n\t\t\treturn parseISO(ts.time)\r\n\t\t}\r\n\t\telse return parseISO(ts.time.toISOString())\r\n\t});\r\n\t\r\n\treturn min(times);\r\n};\r\n\r\nexport const persist = (key, value) => {\r\n\tlocalStorage.setItem(key, JSON.stringify(value))\r\n};","import React, {Component} from 'react';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport FolderIcon from '@material-ui/icons/Folder';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport {DatePicker, DateTimePicker, MuiPickersUtilsProvider} from \"@material-ui/pickers\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport {addHours, parseISO, subHours, differenceInHours,format, addMinutes} from 'date-fns';\r\nimport {maxTimestamp} from \"./utils\";\r\nimport {parseFromTimeZone} from \"date-fns-timezone\";\r\n\r\nclass MoonPresent extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t}\r\n\t\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\t// console.log(\"curr props: \", this.props)\r\n\t}\r\n\t\r\n\trender() {\r\n\t\tconst date = new Date();\r\n\t\tlet popTime = 0;\r\n\t\tlet diff = 0;\r\n\t\tlet validEstimation = \"Invalid timestamps\";\r\n\t\t\r\n\t\tif (this.props.timestamps.length > 0) {\r\n\t\t\tpopTime = addHours(maxTimestamp(this.props.timestamps), this.props.timeToPop);\r\n\t\t\tdiff = differenceInHours(popTime, parseISO(date.toISOString()))\r\n\t\t\t\r\n\t\t\tvalidEstimation = `${format(addMinutes(popTime, popTime.getTimezoneOffset()), 'yyyy-MM-dd HH:mm')} (in ±${diff} hrs)`;\r\n\t\t}\r\n\t\t\r\n\t\treturn <div style={{display: \"block\", padding: \"24px\", width: \"100%\"}}>\r\n\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\tMoon pops: {this.props.timestampsFuckedUp ? \"Fucked up timestamps\" : validEstimation}\r\n\t\t\t</Typography>\r\n\t\t\t<TextField value={this.props.notes}\r\n\t\t\t           fullWidth={true}\r\n\t\t\t           style={{marginTop: '16px', marginBottom: '16px'}}\r\n\t\t\t           name=\"notes\"\r\n\t\t\t           onChange={this.props.updateMoonData}\r\n\t\t\t           label=\"Notes\"\r\n\t\t\t           rows={4}\r\n\t\t\t           variant=\"outlined\"\r\n\t\t\t           multiline/>\r\n\t\t\t\r\n\t\t\t<Typography style={{display: 'inline'}}>\r\n\t\t\t\tBookmarks\r\n\t\t\t</Typography>\r\n\t\t\t\r\n\t\t\t<Button onClick={this.props.clearAllBookmarks} style={{float: 'right', display: 'inline'}}>Clear all</Button>\r\n\t\t\t<Typography style={{marginTop: '8px', marginBottom: '8px'}}>{this.props.timestampsFuckedUp ? \"Bro timestamps are fucked\" : null}</Typography>\r\n\t\t\t<List dense={true}>\r\n\t\t\t\t{this.props.timestamps.map(timestamp => {\r\n\t\t\t\t\t// console.log(\"timestamp: >>>>>>>>>\", timestamp, \"sub hrs: \", subHours(parseISO(timestamp.time), 3))\r\n\t\t\t\t\treturn <ListItem key={timestamp.id} style={{marginTop: \"8px\"}}>\r\n\t\t\t\t\t\t{/*<ListItemAvatar>*/}\r\n\t\t\t\t\t\t{/*</ListItemAvatar>*/}\r\n\t\t\t\t\t\t<div style={{minWidth: \"250px\"}}>\r\n\t\t\t\t\t\t\t<MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n\t\t\t\t\t\t\t\t<DateTimePicker\r\n\t\t\t\t\t\t\t\t\temptyLabel={\"\"}\r\n\t\t\t\t\t\t\t\t\tlabel=\"Date (use evetime dipshit)\"\r\n\t\t\t\t\t\t\t\t\tvalue={timestamp.time}\r\n\t\t\t\t\t\t\t\t\tampm={false}\r\n\t\t\t\t\t\t\t\t\tfullWidth={true}\r\n\t\t\t\t\t\t\t\t\tdisableFuture={true}\r\n\t\t\t\t\t\t\t\t\tonChange={(ev) => this.props.updateTimstampDate(timestamp.id, ev)}\r\n\t\t\t\t\t\t\t\t\t// format=\"yyyy/MM/dd\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</MuiPickersUtilsProvider>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<TextField label=\"Distance to pop (km)\"\r\n\t\t\t\t\t\t           variant=\"outlined\"\r\n\t\t\t\t\t\t           style={{marginLeft: \"8px\"}}\r\n\t\t\t\t\t\t           name=\"distanceToPop\"\r\n\t\t\t\t\t\t           error={isNaN(timestamp.distanceToPop) ? \"Are you fucking retarded?\" : null}\r\n\t\t\t\t\t\t           helperText={isNaN(timestamp.distanceToPop) ? \"Are you fucking retarded?\" : null}\r\n\t\t\t\t\t\t           value={timestamp.distanceToPop}\r\n\t\t\t\t\t\t           onChange={(ev) => this.props.updateTimestamp(timestamp.id, ev)}/>\r\n\t\t\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t{/* eslint-disable-next-line react/jsx-no-undef */}\r\n\t\t\t\t\t\t\t<IconButton edge=\"end\"\r\n\t\t\t\t\t\t\t            aria-label=\"delete\"\r\n\t\t\t\t\t\t\t            onClick={() => this.props.removeTimestamp(timestamp.id)}>\r\n\t\t\t\t\t\t\t\t<DeleteIcon/>\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t</ListItem>\r\n\t\t\t\t})}\r\n\t\t\t</List>\r\n\t\t\t<Divider/>\r\n\t\t\t<Button onClick={this.props.addTimestamp}\r\n\t\t\t        style={{marginTop: \"8px\"}}\r\n\t\t\t        disableElevation\r\n\t\t\t        variant=\"contained\"\r\n\t\t\t        color=\"primary\">Add bookmark</Button>\r\n\t\t</div>\r\n\t}\r\n}\r\n\r\nexport default (MoonPresent)\r\n","import React, {Component} from 'react';\r\nimport MoonPresent from \"./moonPresent\";\r\nimport produce from \"immer\";\r\nimport {differenceInHours, max, parseISO, isAfter, isBefore, isEqual, parse, addHours, addMinutes} from 'date-fns';\r\nimport {v4 as uuidv4} from 'uuid';\r\n// import { zonedTimeToUtc, utcToZonedTime, format } from 'date-fns-timezone';\r\nimport {maxTimestamp} from \"./utils\";\r\nimport {persist} from \"./utils\";\r\n\r\nclass MoonLogic extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconst zonedDate = new Date();\r\n\t\tconst utcDate = addMinutes(zonedDate, zonedDate.getTimezoneOffset());\r\n\t\tthis.state = {\r\n\t\t\tchunkToPopDistance: 0,\r\n\t\t\tchunkSpeed: 0,\r\n\t\t\ttimeToPop: 0,\r\n\t\t\tpopsAt: new Date(),\r\n\t\t\tpopDistance: 200,\r\n\t\t\tfuckedUp: false,\r\n\t\t\tnotes: '',\r\n\t\t\t\r\n\t\t\ttimestamps: [\r\n\t\t\t\t// {\r\n\t\t\t\t// \tid: 0,\r\n\t\t\t\t// \ttime: utcDate,\r\n\t\t\t\t// \tdistanceToPop: 0\r\n\t\t\t\t// }\r\n\t\t\t],\r\n\t\t}\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tconst localStore = localStorage.getItem(this.props.moonId);\r\n\t\tif (localStore !== null) {\r\n\t\t\tconst localStorageState = JSON.parse(localStore);\r\n\t\t\tthis.setState(produce(draft => {\r\n\t\t\t\treturn draft = localStorageState;\r\n\t\t\t}), () => {\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\trecalculate = () => {\r\n\t\t// recalculate the whole thing\r\n\t};\r\n\t\r\n\tvalidateTimestamps = (timestamps) => {\r\n\t\tlet fuckedUp = false;\r\n\t\t\r\n\t\tfunction compare(a, b) {\r\n\t\t\tif (a.distanceToPop < b.distanceToPop) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\tif (a.distanceToPop > b.distanceToPop) {\r\n\t\t\t\treturn 1;\r\n\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\t\r\n\t\tlet sortedTimestamps = [...timestamps.map(ts => {\r\n\t\t\tif (typeof ts.time == \"string\") {\r\n\t\t\t\treturn {...ts, time: parseISO(ts.time), distanceToPop: parseInt(ts.distanceToPop, 10)}\r\n\t\t\t} else {\r\n\t\t\t\treturn {...ts, distanceToPop: parseInt(ts.distanceToPop, 10)}\r\n\t\t\t}\r\n\t\t})].sort(compare);\r\n\t\t\r\n\t\tfor (let i = 0; i < sortedTimestamps.length - 1; i++) {\r\n\t\t\tif (!isAfter(sortedTimestamps[i].time, sortedTimestamps[i + 1].time)) {\r\n\t\t\t\tfuckedUp = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.setState(draft => {\r\n\t\t\tdraft.fuckedUp = fuckedUp;\r\n\t\t}, () => persist(this.props.moonId, this.state))\r\n\t\t\r\n\t\tconsole.log(\"sorted: \", sortedTimestamps);\r\n\t};\r\n\t\r\n\taddTimestamp = () => {\r\n\t\tconst zonedDate = new Date();\r\n\t\tconst utcDate = addMinutes(zonedDate, zonedDate.getTimezoneOffset());\r\n\t\t\r\n\t\tthis.setState(produce(draft => {\r\n\t\t\t\tdraft.timestamps.push({\r\n\t\t\t\t\tid: uuidv4(),\r\n\t\t\t\t\ttime: utcDate.toISOString(),\r\n\t\t\t\t\tdistanceToPop: 0\r\n\t\t\t\t})\r\n\t\t\t}), () => {\r\n\t\t\t\tconst timeToPop = this.calculateTimeToPop(this.state.timestamps);\r\n\t\t\t\tthis.setState(produce(draft => {\r\n\t\t\t\t\tdraft.timeToPop = timeToPop;\r\n\t\t\t\t\tdraft.popsAt = new Date();\r\n\t\t\t\t\t// draft.timestamps[length-1].time = parseISO(this.state.timestamps[length-1].time)\r\n\t\t\t\t}));\r\n\t\t\t\tconst popsAt = addHours(maxTimestamp(this.state.timestamps), timeToPop);\r\n\t\t\t\tthis._updateParentEstimate(popsAt);\r\n\t\t\t\tpersist(this.props.moonId, this.state);\r\n\t\t\t\tthis.validateTimestamps(this.state.timestamps);\r\n\t\t\t}\r\n\t\t)\r\n\t};\r\n\t\r\n\tupdateTimstampDate = (id, newDate) => {\r\n\t\tthis.setState(produce(draft => {\r\n\t\t\t\tdraft.timestamps.find(ts => ts.id === id).time = newDate.toISOString();\r\n\t\t\t}), () => {\r\n\t\t\t\t// console.log(\"updated: \", id, \" time: \", this.state.timestamps.find(ts => ts.id === id).time)\r\n\t\t\t\tconst timeToPop = this.calculateTimeToPop(this.state.timestamps);\r\n\t\t\t\tthis.setState(produce(draft => {\r\n\t\t\t\t\tdraft.timeToPop = timeToPop;\r\n\t\t\t\t\tdraft.popsAt = new Date();\r\n\t\t\t\t}));\r\n\t\t\t\t\r\n\t\t\t\tconst popsAt = addHours(maxTimestamp(this.state.timestamps), timeToPop);\r\n\t\t\t\tthis._updateParentEstimate(popsAt);\r\n\t\t\t\tpersist(this.props.moonId, this.state);\r\n\t\t\t\tthis.validateTimestamps(this.state.timestamps);\r\n\t\t\t}\r\n\t\t)\r\n\t};\r\n\t\r\n\t_updateParentEstimate = (popsAt) => {\r\n\t\tthis.props.updateMoonParent(this.props.moonId, {\r\n\t\t\tpersist: () => {\r\n\t\t\t},\r\n\t\t\ttarget: {\r\n\t\t\t\tname: 'popsAt',\r\n\t\t\t\tvalue: popsAt\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\t\r\n\tupdateMoonData = (ev) => {\r\n\t\tev.persist();\r\n\t\t// console.log(\"tar: \", ev.target.name, \"val\", ev.target.value)\r\n\t\tthis.setState(produce(draft => draft[ev.target.name] = ev.target.value\r\n\t\t\t, () => {\r\n\t\t\t\tpersist(this.props.moonId, this.state);\r\n\t\t\t})\r\n\t\t)\r\n\t};\r\n\t\r\n\tupdateTimestamp = (id, ev) => {\r\n\t\tev.persist();\r\n\t\tthis.setState(produce(draft => {\r\n\t\t\t\tdraft.timestamps.find(ts => ts.id === id)[ev.target.name] = ev.target.value;\r\n\t\t\t}), () => {\r\n\t\t\t\tconst timeToPop = this.calculateTimeToPop(this.state.timestamps);\r\n\t\t\t\tthis.setState(produce(draft => {\r\n\t\t\t\t\tdraft.timeToPop = timeToPop;\r\n\t\t\t\t\tdraft.popsAt = new Date();\r\n\t\t\t\t}));\r\n\t\t\t\tpersist(this.props.moonId, this.state);\r\n\t\t\t\r\n\t\t\tconst popsAt = addHours(maxTimestamp(this.state.timestamps), timeToPop);\r\n\t\t\tthis._updateParentEstimate(popsAt);\r\n\t\t\t\t\r\n\t\t\t\tthis.validateTimestamps(this.state.timestamps);\r\n\t\t\t}\r\n\t\t)\r\n\t};\r\n\t\r\n\tremoveTimestamp = (id) => {\r\n\t\tthis.setState(produce(draft => {\r\n\t\t\tdraft.timestamps = draft.timestamps.filter(timestamp => timestamp.id !== id)\r\n\t\t}), () => {\r\n\t\t\tconst timeToPop = this.calculateTimeToPop(this.state.timestamps);\r\n\t\t\tthis.setState(produce(draft => {\r\n\t\t\t\tdraft.timeToPop = timeToPop;\r\n\t\t\t\tdraft.popsAt = new Date();\r\n\t\t\t}));\r\n\t\t\tpersist(this.props.moonId, this.state);\r\n\t\t\tconst popsAt = addHours(maxTimestamp(this.state.timestamps), timeToPop);\r\n\t\t\tthis._updateParentEstimate(popsAt);\r\n\t\t\tthis.validateTimestamps(this.state.timestamps);\r\n\t\t})\r\n\t};\r\n\tclearAllBookmarks = () => {\r\n\t\tthis.setState(produce(draft => {\r\n\t\t\tdraft.timestamps = []\r\n\t\t}), () => {\r\n\t\t\tconst timeToPop = 0;\r\n\t\t\tthis.setState(produce(draft => {\r\n\t\t\t\tdraft.timeToPop = 0;\r\n\t\t\t\tdraft.popsAt = new Date();\r\n\t\t\t}));\r\n\t\t\tpersist(this.props.moonId, this.state);\r\n\t\t\tconst popsAt = 0;\r\n\t\t\tthis._updateParentEstimate(new Date());\r\n\t\t\t// this.validateTimestamps(this.state.timestamps);\r\n\t\t})\r\n\t};\r\n\t\r\n\tcalculateSpeed = (timestamp1, timestamp2) => {\r\n\t\tlet formattedDate1 = timestamp1.time;\r\n\t\tlet formattedDate2 = timestamp2.time;\r\n\t\t\r\n\t\tif (typeof formattedDate1 == \"string\") {\r\n\t\t\tformattedDate1 = parseISO(timestamp1.time)\r\n\t\t}\r\n\t\t\r\n\t\tif (typeof formattedDate2 == \"string\") {\r\n\t\t\tformattedDate2 = parseISO(timestamp2.time)\r\n\t\t}\r\n\t\tconst hourDifference = differenceInHours(formattedDate1, formattedDate2);\r\n\t\tconst distance = Math.abs(timestamp1.distanceToPop - timestamp2.distanceToPop);\r\n\t\tconst speed = distance / Math.abs(hourDifference);\r\n\t\tconsole.log(formattedDate1, formattedDate2)\r\n\t\t\r\n\t\treturn speed;\r\n\t};\r\n\t\r\n\tcalculateTimeToPop = (timestamps) => {\r\n\t\tif (timestamps.length == 0) {\r\n\t\t\treturn 0\r\n\t\t}\r\n\t\t// console.log(\"timestamps: \", timestamps);\r\n\t\tconst maxTstp = maxTimestamp(timestamps);\r\n\t\tconst maxIndex = timestamps.findIndex(ts => {\r\n\t\t\tif (typeof ts.time == \"string\") {\r\n\t\t\t\t// console.log(\"tstime: \", parseISO(ts.time), \" max: \", maxTstp)\r\n\t\t\t\treturn isEqual(parseISO(ts.time), maxTstp)\r\n\t\t\t}\r\n\t\t\treturn isEqual(parseISO(ts.time), maxTstp)\r\n\t\t});\r\n\t\t\r\n\t\t// console.log(\"maxIndex: \", maxIndex);\r\n\t\tconst speeds = [];\r\n\t\tlet timeToPop = 0;\r\n\t\t\r\n\t\t// console.log(\"length:\", timestamps.length)\r\n\t\t// console.log(\"lll: \", times);\r\n\t\t\r\n\t\tif (timestamps.length >= 2) {\r\n\t\t\tfor (let i = 0; i < timestamps.length - 1; i++) {\r\n\t\t\t\t// console.log(\"speed1: \", timestamps[i], timestamps[i + 1])\r\n\t\t\t\tspeeds.push(this.calculateSpeed(timestamps[i], timestamps[i + 1]))\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// console.log(\"speeds: \", speeds)\r\n\t\t\tconst avgSpeed = speeds.reduce((curr, acc) => curr + acc) / (timestamps.length - 1);\r\n\t\t\ttimeToPop = timestamps[maxIndex].distanceToPop / avgSpeed;\r\n\t\t}\r\n\t\t\r\n\t\t// console.log(\"time to pop: \", timeToPop)\r\n\t\tif (isNaN(timeToPop)) {\r\n\t\t\treturn 0\r\n\t\t} else {\r\n\t\t\treturn timeToPop.toString().match(/^-?\\d+(?:\\.\\d{0,2})?/)[0];\r\n\t\t}\r\n\t};\r\n\t\r\n\trender() {\r\n\t\treturn <MoonPresent moonName={this.props.moonName}\r\n\t\t                    moonId={this.props.moonId}\r\n\t\t                    notes={this.state.notes}\r\n\t\t                    updateMoonData={this.updateMoonData}\r\n\t\t                    timestampsFuckedUp={this.state.fuckedUp}\r\n\t\t                    addTimestamp={this.addTimestamp}\r\n\t\t                    updateTimestamp={this.updateTimestamp}\r\n\t\t                    updateTimstampDate={this.updateTimstampDate}\r\n\t\t                    removeTimestamp={this.removeTimestamp}\r\n\t\t                    clearAllBookmarks={this.clearAllBookmarks}\r\n\t\t                    chunkSpeed={this.state.chunkSpeed}\r\n\t\t                    popsAt={this.state.popsAt}\r\n\t\t                    timeToPop={this.state.timeToPop}\r\n\t\t                    timestamps={this.state.timestamps}/>\r\n\t}\r\n}\r\n\r\nexport default (MoonLogic)\r\n","import React, {Component} from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport MoonLogic from \"./moonLogic\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport produce from \"immer\";\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport ListItemText from \"@material-ui/core/ListItemText/ListItemText\";\r\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction/ListItemSecondaryAction\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport ExpandLess from '@material-ui/icons/ExpandLess';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport {persist} from \"./utils\";\r\nimport {addMinutes, format} from \"date-fns\";\r\n\r\nclass MoonList extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.open = false;\r\n\t\tthis.state = {\r\n\t\t\tmoonList: []\r\n\t\t};\r\n\t\t\r\n\t\t// localStorage.setItem(\"moonList\", JSON.stringify([\r\n\t\t// \t{\r\n\t\t// \t\tid: 1,\r\n\t\t// \t\tname: \"moon1\",\r\n\t\t// \t\tchunkToPopDistance: 0,\r\n\t\t// \t\tchunkSpeed: 0,\r\n\t\t// \t\ttimeToPop: 0,\r\n\t\t// \t\tpopsAt: new Date(),\r\n\t\t// \t\tpopDistance: 200,\r\n\t\t// \t\ttimestamps: [\r\n\t\t// \t\t\t{\r\n\t\t// \t\t\t\tid: 0,\r\n\t\t// \t\t\t\ttime: new Date(),\r\n\t\t// \t\t\t\tdistanceToPop: 200\r\n\t\t// \t\t\t}\r\n\t\t// \t\t],\r\n\t\t// \t}\r\n\t\t// ]))\r\n\t\t\r\n\t\t// localStorage.setItem(\"1\", JSON.stringify({\r\n\t\t// \tchunkToPopDistance: 0,\r\n\t\t// \tchunkSpeed: 0,\r\n\t\t// \ttimeToPop: 0,\r\n\t\t// \tpopsAt: new Date(),\r\n\t\t// \tpopDistance: 200,\r\n\t\t// \ttimestamps: [\r\n\t\t// \t\t{\r\n\t\t// \t\t\tid: 0,\r\n\t\t// \t\t\ttime: new Date(),\r\n\t\t// \t\t\tdistanceToPop: 200\r\n\t\t// \t\t}\r\n\t\t// \t]\r\n\t\t// }))\r\n\t}\r\n\t\r\n\tcomponentDidMount() {\r\n\t\tconst moons = JSON.parse(localStorage.getItem(\"moonList\"));\r\n\t\tif (moons !== null) {\r\n\t\t\tthis.setState(produce(draft => {\r\n\t\t\t\tdraft.moonList = moons\r\n\t\t\t}))\r\n\t\t}\r\n\t}\r\n\t\r\n\t// componentWillUnmount() {\r\n\t// \tlocalStorage.setItem(\"moonList\", JSON.stringify(this.state.moonList))\r\n\t// }\r\n\t\r\n\topenMoon = (id) => {\r\n\t\tthis.setState(produce(draft => {\r\n\t\t\tdraft.moonList.find(moon => moon.id === id).open = !this.state.moonList.find(moon2 => moon2.id === id).open;\r\n\t\t}), () => persist(\"moonList\", this.state.moonList))\r\n\t};\r\n\t\r\n\taddMoon = () => {\r\n\t\tthis.setState(produce(draft => {\r\n\t\t\tdraft.moonList.push({\r\n\t\t\t\tid: uuidv4(),\r\n\t\t\t\tname: \"New moon\"\r\n\t\t\t})\r\n\t\t}), () => persist(\"moonList\", this.state.moonList))\r\n\t};\r\n\t\r\n\tupdateMoon = (id, ev) => {\r\n\t\tev.persist();\r\n\t\tconsole.log(\"updating moon: \", ev);\r\n\t\tthis.setState(produce(draft => {\r\n\t\t\tif (ev.target.name == \"popsAt\") {\r\n\t\t\t\t\r\n\t\t\t\tdraft.moonList.find(moon => moon.id === id)[ev.target.name] = format(addMinutes(ev.target.value, ev.target.value.getTimezoneOffset()), 'yyyy-MM-dd HH:mm')\r\n\t\t\t} else {\r\n\t\t\t\tdraft.moonList.find(moon => moon.id === id)[ev.target.name] = ev.target.value\r\n\t\t\t}\r\n\r\n\t\t}), () => persist(\"moonList\", this.state.moonList))\r\n\t};\r\n\t\r\n\tremoveMoon = (id) => {\r\n\t\tthis.setState(produce(draft => {\r\n\t\t\tdraft.moonList = this.state.moonList.filter(moon => moon.id !== id)\r\n\t\t}), () => persist(\"moonList\", this.state.moonList))\r\n\t};\r\n\t\r\n\tminimizeAll = () => {\r\n\t\tconsole.log(\"setting\")\r\n\t\tthis.setState(produce(draft => {\r\n\t\t\tdraft.moonList = this.state.moonList.map(moon => {\r\n\t\t\t\treturn {...moon, open: false}\r\n\t\t\t})\r\n\t\t}, () => persist(\"moonList\", this.state.moonList)))\r\n\t};\r\n\t\r\n\trender() {\r\n\t\treturn <div style={{paddingRight: 16}}>\r\n\t\t\t<Typography variant=\"h6\">\r\n\t\t\t\tMoons\r\n\t\t\t</Typography>\r\n\t\t\t{/*<Button onClick={() => this.minimizeAll()}>Minimize all</Button>*/}\r\n\t\t\t\r\n\t\t\t{/*<IconButton edge=\"end\"*/}\r\n\t\t\t{/*            aria-label=\"delete\"*/}\r\n\t\t\t{/*            onClick={() => this.minimizeAll()}>*/}\r\n\t\t\t{/*\t<Remove/>*/}\r\n\t\t\t{/*</IconButton>*/}\r\n\t\t\t<List>\r\n\t\t\t\t{this.state.moonList.map(moon => {\r\n\t\t\t\t\tconsole.log(\"Moon: \" , moon);\r\n\t\t\t\t\t// const moonPopTime = format(addMinutes(moon.popsAt, moon.popsAt.getTimezoneOffset()), 'yyyy-MM-dd HH:mm');\r\n\t\t\t\t\treturn <React.Fragment key={moon.id}>\r\n\t\t\t\t\t\t<ListItem style={{display: \"block\", margin: \"8px 0 0 0\"}}>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tvalue={moon.name}\r\n\t\t\t\t\t\t\t\tname={\"name\"}\r\n\t\t\t\t\t\t\t\tonChange={(ev) => this.updateMoon(moon.id, ev)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button variant=\"contained\"\r\n\t\t\t\t\t\t\t        color=\"secondary\"\r\n\t\t\t\t\t\t\t        disableElevation\r\n\t\t\t\t\t\t\t        style={{marginLeft: 16}}\r\n\t\t\t\t\t\t\t        onClick={(ev) => this.removeMoon(moon.id)}>DELETE</Button>\r\n\t\t\t\t\t\t\t{/*<ListItemText*/}\r\n\t\t\t\t\t\t\t{/*\tprimary={moon.name}*/}\r\n\t\t\t\t\t\t\t{/*\tsecondary={'Pops in: // TODO'}*/}\r\n\t\t\t\t\t\t\t{/*/>*/}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<Typography style={{display: 'inline', marginLeft: 16}}>Pops: {moon.popsAt}</Typography>\r\n\t\t\t\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t\t\t\t{/* eslint-disable-next-line react/jsx-no-undef */}\r\n\t\t\t\t\t\t\t\t<IconButton edge=\"end\"\r\n\t\t\t\t\t\t\t\t            // style={{backgroundColor: \"#c2c2c2\"}}\r\n\t\t\t\t\t\t\t\t            onClick={() => this.openMoon(moon.id)}>\r\n\t\t\t\t\t\t\t\t\t{moon.open ? <ExpandLess/> : <ExpandMore/>}\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t<Collapse in={moon.open} timeout=\"auto\" unmountOnExit>\r\n\t\t\t\t\t\t\t<List component=\"div\">\r\n\t\t\t\t\t\t\t\t<ListItem>\r\n\t\t\t\t\t\t\t\t\t<MoonLogic moonName={moon.name}\r\n\t\t\t\t\t\t\t\t\t           moonId={moon.id}\r\n\t\t\t\t\t\t\t\t\t           updateMoonParent={this.updateMoon}\r\n\t\t\t\t\t\t\t\t\t           moonData={moon.data}/>\r\n\t\t\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t\t\t</List>\r\n\t\t\t\t\t\t</Collapse>\r\n\t\t\t\t\t\t<Divider/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t})}\r\n\t\t\t</List>\r\n\t\t\t<Button onClick={this.addMoon}\r\n\t\t\t        variant=\"outlined\"\r\n\t\t\t        style={{marginTop: 16}}\r\n\t\t\t        fullWidth color=\"primary\"> Add\r\n\t\t\t\tmoon </Button>\r\n\t\t</div>\r\n\t}\r\n}\r\n\r\nexport default (MoonList)\r\n","import React, {Component} from 'react';\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nclass Help extends Component {\r\n\trender() {\r\n\t\t\r\n\t\treturn <div>\r\n\t\t\t<Typography variant=\"h6\">Help</Typography>\r\n\t\t\t<div style={{textAlign: 'left', paddingLeft: 16}}>\r\n\t\t\t\t<span>1. </span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t}\r\n}\r\n\r\nexport default (Help)\r\n","import React from 'react';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport MoonLogic from \"./moonLogic\";\r\nimport MoonList from \"./moonList\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Help from \"./help\"\r\n\r\nclass App extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"App\">\r\n                {/*<header className=\"App-header\">*/}\r\n                {/*    <img src={logo} className=\"App-logo\" alt=\"logo\" />*/}\r\n                {/*    <p>*/}\r\n                {/*        Edit <code>src/App.js</code> and save to reload.*/}\r\n                {/*    </p>*/}\r\n                {/*    <a*/}\r\n                {/*        className=\"App-link\"*/}\r\n                {/*        href=\"https://reactjs.org\"*/}\r\n                {/*        target=\"_blank\"*/}\r\n                {/*        rel=\"noopener noreferrer\"*/}\r\n                {/*    >*/}\r\n                {/*        Learn React*/}\r\n                {/*    </a>*/}\r\n                {/*</header>*/}\r\n            \r\n                <div>\r\n                    <Grid container>\r\n                        <Grid item xs={6}>\r\n                    {/*<MoonLogic/>*/}\r\n                    <MoonList/>\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <Help/>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}